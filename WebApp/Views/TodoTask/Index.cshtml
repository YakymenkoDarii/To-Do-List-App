@model WebApp.Models.TodoTaskWebApiModel
@{
	ViewData["Title"] = Model.Title;
}

<a asp-controller="TodoList" asp-action="Details" asp-route-id="@Model.TodoListId" class="btn btn-outline-secondary btn-sm mb-3">
	&larr; Back to Parent List
</a>

<div class="card">
	<div class="card-header">
		<h2>@Model.Title</h2>
	</div>
	<div class="card-body">
		<h5 class="card-title text-muted">Description</h5>
		<p class="card-text">@Model.Description</p>
		<hr />

		<dl class="row">
			<dt class="col-sm-3">Created On</dt>
			<dd class="col-sm-9">@Model.CreatedAt.ToString("g")</dd>

			<dt class="col-sm-3">Due Date</dt>
			<dd class="col-sm-9">@Model.DueTo.ToShortDateString()</dd>

			<dt class="col-sm-3">Current Status</dt>
			<dd class="col-sm-9">@Html.DisplayFor(model => model.Status)</dd>

			<dt class="col-sm-3">Assigned To</dt>
			<dd class="col-sm-9">
				@if (string.IsNullOrEmpty(Model.AssignedToUserName))
				{
					<span class="text-muted">Unassigned</span>
				}
				else
				{
					@Html.DisplayFor(model => model.AssignedToUserName)
				}
			</dd>
			<dt class="col-sm-3">Overdue</dt>
			<dd class="col-sm-9">
				@if (Model.IsOverdue)
				{
					<span class="badge bg-danger">Overdue</span>
				}
				else
				{
					<span class="badge bg-success">On track</span>
				}
			</dd>
		</dl>
	</div>
	<div class="card-footer text-right">
		<a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-secondary">Edit</a>
		<a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
	</div>
</div>